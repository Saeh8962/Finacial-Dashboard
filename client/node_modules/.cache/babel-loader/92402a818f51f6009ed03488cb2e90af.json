{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _createForOfIteratorHelper = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar DOMException = require(\"domexception/webidl2js-wrapper\");\n\nvar HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nvar _require = require(\"../helpers/namespaces\"),\n    HTML_NS = _require.HTML_NS;\n\nvar _require2 = require(\"../helpers/internal-constants\"),\n    domSymbolTree = _require2.domSymbolTree;\n\nvar _require3 = require(\"../helpers/traversal\"),\n    firstChildWithLocalName = _require3.firstChildWithLocalName,\n    childrenByLocalName = _require3.childrenByLocalName;\n\nvar HTMLCollection = require(\"../generated/HTMLCollection\");\n\nvar NODE_TYPE = require(\"../node-type\");\n\nfunction tHeadInsertionPoint(table) {\n  var iterator = domSymbolTree.childrenIterator(table);\n\n  var _iterator = _createForOfIteratorHelper(iterator),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var child = _step.value;\n\n      if (child.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n        continue;\n      }\n\n      if (child._namespaceURI !== HTML_NS || child._localName !== \"caption\" && child._localName !== \"colgroup\") {\n        return child;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return null;\n}\n\nvar HTMLTableElementImpl = /*#__PURE__*/function (_HTMLElementImpl) {\n  _inherits(HTMLTableElementImpl, _HTMLElementImpl);\n\n  var _super = _createSuper(HTMLTableElementImpl);\n\n  function HTMLTableElementImpl() {\n    _classCallCheck(this, HTMLTableElementImpl);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(HTMLTableElementImpl, [{\n    key: \"caption\",\n    get: function get() {\n      return firstChildWithLocalName(this, \"caption\");\n    },\n    set: function set(value) {\n      var currentCaption = this.caption;\n\n      if (currentCaption !== null) {\n        this.removeChild(currentCaption);\n      }\n\n      if (value !== null) {\n        var insertionPoint = this.firstChild;\n        this.insertBefore(value, insertionPoint);\n      }\n    }\n  }, {\n    key: \"tHead\",\n    get: function get() {\n      return firstChildWithLocalName(this, \"thead\");\n    },\n    set: function set(value) {\n      if (value !== null && value._localName !== \"thead\") {\n        throw DOMException.create(this._globalObject, [\"Cannot set a non-thead element as a table header\", \"HierarchyRequestError\"]);\n      }\n\n      var currentHead = this.tHead;\n\n      if (currentHead !== null) {\n        this.removeChild(currentHead);\n      }\n\n      if (value !== null) {\n        var insertionPoint = tHeadInsertionPoint(this);\n        this.insertBefore(value, insertionPoint);\n      }\n    }\n  }, {\n    key: \"tFoot\",\n    get: function get() {\n      return firstChildWithLocalName(this, \"tfoot\");\n    },\n    set: function set(value) {\n      if (value !== null && value._localName !== \"tfoot\") {\n        throw DOMException.create(this._globalObject, [\"Cannot set a non-tfoot element as a table footer\", \"HierarchyRequestError\"]);\n      }\n\n      var currentFoot = this.tFoot;\n\n      if (currentFoot !== null) {\n        this.removeChild(currentFoot);\n      }\n\n      if (value !== null) {\n        this.appendChild(value);\n      }\n    }\n  }, {\n    key: \"rows\",\n    get: function get() {\n      var _this = this;\n\n      if (!this._rows) {\n        this._rows = HTMLCollection.createImpl(this._globalObject, [], {\n          element: this,\n          query: function query() {\n            var headerRows = [];\n            var bodyRows = [];\n            var footerRows = [];\n            var iterator = domSymbolTree.childrenIterator(_this);\n\n            var _iterator2 = _createForOfIteratorHelper(iterator),\n                _step2;\n\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var child = _step2.value;\n\n                if (child.nodeType !== NODE_TYPE.ELEMENT_NODE || child._namespaceURI !== HTML_NS) {\n                  continue;\n                }\n\n                if (child._localName === \"thead\") {\n                  headerRows.push.apply(headerRows, _toConsumableArray(childrenByLocalName(child, \"tr\")));\n                } else if (child._localName === \"tbody\") {\n                  bodyRows.push.apply(bodyRows, _toConsumableArray(childrenByLocalName(child, \"tr\")));\n                } else if (child._localName === \"tfoot\") {\n                  footerRows.push.apply(footerRows, _toConsumableArray(childrenByLocalName(child, \"tr\")));\n                } else if (child._localName === \"tr\") {\n                  bodyRows.push(child);\n                }\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n\n            return [].concat(headerRows, bodyRows, footerRows);\n          }\n        });\n      }\n\n      return this._rows;\n    }\n  }, {\n    key: \"tBodies\",\n    get: function get() {\n      var _this2 = this;\n\n      if (!this._tBodies) {\n        this._tBodies = HTMLCollection.createImpl(this._globalObject, [], {\n          element: this,\n          query: function query() {\n            return childrenByLocalName(_this2, \"tbody\");\n          }\n        });\n      }\n\n      return this._tBodies;\n    }\n  }, {\n    key: \"createTBody\",\n    value: function createTBody() {\n      var el = this._ownerDocument.createElement(\"TBODY\");\n\n      var tbodies = childrenByLocalName(this, \"tbody\");\n      var insertionPoint = tbodies[tbodies.length - 1];\n\n      if (insertionPoint) {\n        this.insertBefore(el, insertionPoint.nextSibling);\n      } else {\n        this.appendChild(el);\n      }\n\n      return el;\n    }\n  }, {\n    key: \"createTHead\",\n    value: function createTHead() {\n      var el = this.tHead;\n\n      if (!el) {\n        el = this.tHead = this._ownerDocument.createElement(\"THEAD\");\n      }\n\n      return el;\n    }\n  }, {\n    key: \"deleteTHead\",\n    value: function deleteTHead() {\n      this.tHead = null;\n    }\n  }, {\n    key: \"createTFoot\",\n    value: function createTFoot() {\n      var el = this.tFoot;\n\n      if (!el) {\n        el = this.tFoot = this._ownerDocument.createElement(\"TFOOT\");\n      }\n\n      return el;\n    }\n  }, {\n    key: \"deleteTFoot\",\n    value: function deleteTFoot() {\n      this.tFoot = null;\n    }\n  }, {\n    key: \"createCaption\",\n    value: function createCaption() {\n      var el = this.caption;\n\n      if (!el) {\n        el = this.caption = this._ownerDocument.createElement(\"CAPTION\");\n      }\n\n      return el;\n    }\n  }, {\n    key: \"deleteCaption\",\n    value: function deleteCaption() {\n      var c = this.caption;\n\n      if (c) {\n        c.parentNode.removeChild(c);\n      }\n    }\n  }, {\n    key: \"insertRow\",\n    value: function insertRow(index) {\n      if (index < -1 || index > this.rows.length) {\n        throw DOMException.create(this._globalObject, [\"Cannot insert a row at an index that is less than -1 or greater than the number of existing rows\", \"IndexSizeError\"]);\n      }\n\n      var tr = this._ownerDocument.createElement(\"tr\");\n\n      if (this.rows.length === 0 && this.tBodies.length === 0) {\n        var tBody = this._ownerDocument.createElement(\"tbody\");\n\n        tBody.appendChild(tr);\n        this.appendChild(tBody);\n      } else if (this.rows.length === 0) {\n        var _tBody = this.tBodies.item(this.tBodies.length - 1);\n\n        _tBody.appendChild(tr);\n      } else if (index === -1 || index === this.rows.length) {\n        var tSection = this.rows.item(this.rows.length - 1).parentNode;\n        tSection.appendChild(tr);\n      } else {\n        var beforeTR = this.rows.item(index);\n        var _tSection = beforeTR.parentNode;\n\n        _tSection.insertBefore(tr, beforeTR);\n      }\n\n      return tr;\n    }\n  }, {\n    key: \"deleteRow\",\n    value: function deleteRow(index) {\n      var rowLength = this.rows.length;\n\n      if (index < -1 || index >= rowLength) {\n        throw DOMException.create(this._globalObject, [\"Cannot delete a row at index \".concat(index, \", where no row exists\"), \"IndexSizeError\"]);\n      }\n\n      if (index === -1) {\n        if (rowLength === 0) {\n          return;\n        }\n\n        index = rowLength - 1;\n      }\n\n      var tr = this.rows.item(index);\n      tr.parentNode.removeChild(tr);\n    }\n  }]);\n\n  return HTMLTableElementImpl;\n}(HTMLElementImpl);\n\nmodule.exports = {\n  implementation: HTMLTableElementImpl\n};","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/node_modules/jsdom/lib/jsdom/living/nodes/HTMLTableElement-impl.js"],"names":["DOMException","require","HTMLElementImpl","implementation","HTML_NS","domSymbolTree","firstChildWithLocalName","childrenByLocalName","HTMLCollection","NODE_TYPE","tHeadInsertionPoint","table","iterator","childrenIterator","child","nodeType","ELEMENT_NODE","_namespaceURI","_localName","HTMLTableElementImpl","value","currentCaption","caption","removeChild","insertionPoint","firstChild","insertBefore","create","_globalObject","currentHead","tHead","currentFoot","tFoot","appendChild","_rows","createImpl","element","query","headerRows","bodyRows","footerRows","push","_tBodies","el","_ownerDocument","createElement","tbodies","length","nextSibling","c","parentNode","index","rows","tr","tBodies","tBody","item","tSection","beforeTR","rowLength","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\nconst { HTML_NS } = require(\"../helpers/namespaces\");\nconst { domSymbolTree } = require(\"../helpers/internal-constants\");\nconst { firstChildWithLocalName, childrenByLocalName } = require(\"../helpers/traversal\");\nconst HTMLCollection = require(\"../generated/HTMLCollection\");\nconst NODE_TYPE = require(\"../node-type\");\n\nfunction tHeadInsertionPoint(table) {\n  const iterator = domSymbolTree.childrenIterator(table);\n  for (const child of iterator) {\n    if (child.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n      continue;\n    }\n\n    if (child._namespaceURI !== HTML_NS || (child._localName !== \"caption\" && child._localName !== \"colgroup\")) {\n      return child;\n    }\n  }\n\n  return null;\n}\n\nclass HTMLTableElementImpl extends HTMLElementImpl {\n  get caption() {\n    return firstChildWithLocalName(this, \"caption\");\n  }\n\n  set caption(value) {\n    const currentCaption = this.caption;\n    if (currentCaption !== null) {\n      this.removeChild(currentCaption);\n    }\n\n    if (value !== null) {\n      const insertionPoint = this.firstChild;\n      this.insertBefore(value, insertionPoint);\n    }\n  }\n\n  get tHead() {\n    return firstChildWithLocalName(this, \"thead\");\n  }\n\n  set tHead(value) {\n    if (value !== null && value._localName !== \"thead\") {\n      throw DOMException.create(this._globalObject, [\n        \"Cannot set a non-thead element as a table header\",\n        \"HierarchyRequestError\"\n      ]);\n    }\n\n    const currentHead = this.tHead;\n    if (currentHead !== null) {\n      this.removeChild(currentHead);\n    }\n\n    if (value !== null) {\n      const insertionPoint = tHeadInsertionPoint(this);\n      this.insertBefore(value, insertionPoint);\n    }\n  }\n\n  get tFoot() {\n    return firstChildWithLocalName(this, \"tfoot\");\n  }\n\n  set tFoot(value) {\n    if (value !== null && value._localName !== \"tfoot\") {\n      throw DOMException.create(this._globalObject, [\n        \"Cannot set a non-tfoot element as a table footer\",\n        \"HierarchyRequestError\"\n      ]);\n    }\n\n    const currentFoot = this.tFoot;\n    if (currentFoot !== null) {\n      this.removeChild(currentFoot);\n    }\n\n    if (value !== null) {\n      this.appendChild(value);\n    }\n  }\n\n  get rows() {\n    if (!this._rows) {\n      this._rows = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => {\n          const headerRows = [];\n          const bodyRows = [];\n          const footerRows = [];\n\n          const iterator = domSymbolTree.childrenIterator(this);\n          for (const child of iterator) {\n            if (child.nodeType !== NODE_TYPE.ELEMENT_NODE || child._namespaceURI !== HTML_NS) {\n              continue;\n            }\n\n            if (child._localName === \"thead\") {\n              headerRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tbody\") {\n              bodyRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tfoot\") {\n              footerRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tr\") {\n              bodyRows.push(child);\n            }\n          }\n\n          return [...headerRows, ...bodyRows, ...footerRows];\n        }\n      });\n    }\n    return this._rows;\n  }\n\n  get tBodies() {\n    if (!this._tBodies) {\n      this._tBodies = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => childrenByLocalName(this, \"tbody\")\n      });\n    }\n    return this._tBodies;\n  }\n\n  createTBody() {\n    const el = this._ownerDocument.createElement(\"TBODY\");\n\n    const tbodies = childrenByLocalName(this, \"tbody\");\n    const insertionPoint = tbodies[tbodies.length - 1];\n\n    if (insertionPoint) {\n      this.insertBefore(el, insertionPoint.nextSibling);\n    } else {\n      this.appendChild(el);\n    }\n    return el;\n  }\n\n  createTHead() {\n    let el = this.tHead;\n    if (!el) {\n      el = this.tHead = this._ownerDocument.createElement(\"THEAD\");\n    }\n    return el;\n  }\n\n  deleteTHead() {\n    this.tHead = null;\n  }\n\n  createTFoot() {\n    let el = this.tFoot;\n    if (!el) {\n      el = this.tFoot = this._ownerDocument.createElement(\"TFOOT\");\n    }\n    return el;\n  }\n\n  deleteTFoot() {\n    this.tFoot = null;\n  }\n\n  createCaption() {\n    let el = this.caption;\n    if (!el) {\n      el = this.caption = this._ownerDocument.createElement(\"CAPTION\");\n    }\n    return el;\n  }\n\n  deleteCaption() {\n    const c = this.caption;\n    if (c) {\n      c.parentNode.removeChild(c);\n    }\n  }\n\n  insertRow(index) {\n    if (index < -1 || index > this.rows.length) {\n      throw DOMException.create(this._globalObject, [\n        \"Cannot insert a row at an index that is less than -1 or greater than the number of existing rows\",\n        \"IndexSizeError\"\n      ]);\n    }\n\n    const tr = this._ownerDocument.createElement(\"tr\");\n\n    if (this.rows.length === 0 && this.tBodies.length === 0) {\n      const tBody = this._ownerDocument.createElement(\"tbody\");\n      tBody.appendChild(tr);\n      this.appendChild(tBody);\n    } else if (this.rows.length === 0) {\n      const tBody = this.tBodies.item(this.tBodies.length - 1);\n      tBody.appendChild(tr);\n    } else if (index === -1 || index === this.rows.length) {\n      const tSection = this.rows.item(this.rows.length - 1).parentNode;\n      tSection.appendChild(tr);\n    } else {\n      const beforeTR = this.rows.item(index);\n      const tSection = beforeTR.parentNode;\n      tSection.insertBefore(tr, beforeTR);\n    }\n\n    return tr;\n  }\n\n  deleteRow(index) {\n    const rowLength = this.rows.length;\n    if (index < -1 || index >= rowLength) {\n      throw DOMException.create(this._globalObject, [\n        `Cannot delete a row at index ${index}, where no row exists`,\n        \"IndexSizeError\"\n      ]);\n    }\n\n    if (index === -1) {\n      if (rowLength === 0) {\n        return;\n      }\n\n      index = rowLength - 1;\n    }\n\n    const tr = this.rows.item(index);\n    tr.parentNode.removeChild(tr);\n  }\n}\n\nmodule.exports = {\n  implementation: HTMLTableElementImpl\n};\n"]},"metadata":{},"sourceType":"script"}