{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar ValidityState = require(\"../generated/ValidityState\");\n\nvar _require = require(\"../helpers/form-controls\"),\n    isDisabled = _require.isDisabled;\n\nvar _require2 = require(\"../helpers/traversal\"),\n    closest = _require2.closest;\n\nvar _require3 = require(\"../helpers/events\"),\n    fireAnEvent = _require3.fireAnEvent;\n\nexports.implementation = /*#__PURE__*/function () {\n  function DefaultConstraintValidationImpl() {\n    _classCallCheck(this, DefaultConstraintValidationImpl);\n  }\n\n  _createClass(DefaultConstraintValidationImpl, [{\n    key: \"willValidate\",\n    get: // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-willvalidate\n    function get() {\n      return this._isCandidateForConstraintValidation();\n    }\n  }, {\n    key: \"validity\",\n    get: function get() {\n      if (!this._validity) {\n        this._validity = ValidityState.createImpl(this._globalObject, [], {\n          element: this\n        });\n      }\n\n      return this._validity;\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-checkvalidity\n\n  }, {\n    key: \"checkValidity\",\n    value: function checkValidity() {\n      if (!this._isCandidateForConstraintValidation()) {\n        return true;\n      }\n\n      if (this._satisfiesConstraints()) {\n        return true;\n      }\n\n      fireAnEvent(\"invalid\", this, undefined, {\n        cancelable: true\n      });\n      return false;\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-setcustomvalidity\n\n  }, {\n    key: \"setCustomValidity\",\n    value: function setCustomValidity(message) {\n      this._customValidityErrorMessage = message;\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-reportvalidity\n    // Since jsdom has no user interaction, it's the same as #checkValidity\n\n  }, {\n    key: \"reportValidity\",\n    value: function reportValidity() {\n      return this.checkValidity();\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-validationmessage\n\n  }, {\n    key: \"validationMessage\",\n    get: function get() {\n      var validity = this.validity;\n\n      if (!this._isCandidateForConstraintValidation() || this._satisfiesConstraints()) {\n        return \"\";\n      }\n\n      var isSufferingFromCustomError = validity.customError;\n\n      if (isSufferingFromCustomError) {\n        return this._customValidityErrorMessage;\n      }\n\n      return \"Constraints not satisfied\";\n    }\n  }, {\n    key: \"_isCandidateForConstraintValidation\",\n    value: function _isCandidateForConstraintValidation() {\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fe-disabled\n      return !isDisabled(this) && // If an element has a datalist element ancestor,\n      // it is barred from constraint validation.\n      closest(this, \"datalist\") === null && !this._barredFromConstraintValidationSpecialization();\n    }\n  }, {\n    key: \"_isBarredFromConstraintValidation\",\n    value: function _isBarredFromConstraintValidation() {\n      return !this._isCandidateForConstraintValidation();\n    }\n  }, {\n    key: \"_satisfiesConstraints\",\n    value: function _satisfiesConstraints() {\n      return this.validity.valid;\n    }\n  }]);\n\n  return DefaultConstraintValidationImpl;\n}();","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/node_modules/jsdom/lib/jsdom/living/constraint-validation/DefaultConstraintValidation-impl.js"],"names":["ValidityState","require","isDisabled","closest","fireAnEvent","exports","implementation","_isCandidateForConstraintValidation","_validity","createImpl","_globalObject","element","_satisfiesConstraints","undefined","cancelable","message","_customValidityErrorMessage","checkValidity","validity","isSufferingFromCustomError","customError","_barredFromConstraintValidationSpecialization","valid"],"mappings":"AAAA;;;;;;AAEA,IAAMA,aAAa,GAAGC,OAAO,CAAC,4BAAD,CAA7B;;AACA,eAAuBA,OAAO,CAAC,0BAAD,CAA9B;AAAA,IAAQC,UAAR,YAAQA,UAAR;;AACA,gBAAoBD,OAAO,CAAC,sBAAD,CAA3B;AAAA,IAAQE,OAAR,aAAQA,OAAR;;AACA,gBAAwBF,OAAO,CAAC,mBAAD,CAA/B;AAAA,IAAQG,WAAR,aAAQA,WAAR;;AAEAC,OAAO,CAACC,cAAR;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,SACE;AACA,mBAAmB;AACjB,aAAO,KAAKC,mCAAL,EAAP;AACD;AAJH;AAAA;AAAA,SAME,eAAe;AACb,UAAI,CAAC,KAAKC,SAAV,EAAqB;AACnB,aAAKA,SAAL,GAAiBR,aAAa,CAACS,UAAd,CAAyB,KAAKC,aAA9B,EAA6C,EAA7C,EAAiD;AAChEC,UAAAA,OAAO,EAAE;AADuD,SAAjD,CAAjB;AAGD;;AACD,aAAO,KAAKH,SAAZ;AACD,KAbH,CAeE;;AAfF;AAAA;AAAA,WAgBE,yBAAgB;AACd,UAAI,CAAC,KAAKD,mCAAL,EAAL,EAAiD;AAC/C,eAAO,IAAP;AACD;;AACD,UAAI,KAAKK,qBAAL,EAAJ,EAAkC;AAChC,eAAO,IAAP;AACD;;AACDR,MAAAA,WAAW,CAAC,SAAD,EAAY,IAAZ,EAAkBS,SAAlB,EAA6B;AAAEC,QAAAA,UAAU,EAAE;AAAd,OAA7B,CAAX;AACA,aAAO,KAAP;AACD,KAzBH,CA2BE;;AA3BF;AAAA;AAAA,WA4BE,2BAAkBC,OAAlB,EAA2B;AACzB,WAAKC,2BAAL,GAAmCD,OAAnC;AACD,KA9BH,CAgCE;AACA;;AAjCF;AAAA;AAAA,WAkCE,0BAAiB;AACf,aAAO,KAAKE,aAAL,EAAP;AACD,KApCH,CAsCE;;AAtCF;AAAA;AAAA,SAuCE,eAAwB;AACtB,UAAQC,QAAR,GAAqB,IAArB,CAAQA,QAAR;;AACA,UAAI,CAAC,KAAKX,mCAAL,EAAD,IAA+C,KAAKK,qBAAL,EAAnD,EAAiF;AAC/E,eAAO,EAAP;AACD;;AACD,UAAMO,0BAA0B,GAAGD,QAAQ,CAACE,WAA5C;;AACA,UAAID,0BAAJ,EAAgC;AAC9B,eAAO,KAAKH,2BAAZ;AACD;;AACD,aAAO,2BAAP;AACD;AAjDH;AAAA;AAAA,WAmDE,+CAAsC;AACpC;AACA,aAAO,CAACd,UAAU,CAAC,IAAD,CAAX,IACL;AACA;AACAC,MAAAA,OAAO,CAAC,IAAD,EAAO,UAAP,CAAP,KAA8B,IAHzB,IAIL,CAAC,KAAKkB,6CAAL,EAJH;AAKD;AA1DH;AAAA;AAAA,WA4DE,6CAAoC;AAClC,aAAO,CAAC,KAAKd,mCAAL,EAAR;AACD;AA9DH;AAAA;AAAA,WAgEE,iCAAwB;AACtB,aAAO,KAAKW,QAAL,CAAcI,KAArB;AACD;AAlEH;;AAAA;AAAA","sourcesContent":["\"use strict\";\n\nconst ValidityState = require(\"../generated/ValidityState\");\nconst { isDisabled } = require(\"../helpers/form-controls\");\nconst { closest } = require(\"../helpers/traversal\");\nconst { fireAnEvent } = require(\"../helpers/events\");\n\nexports.implementation = class DefaultConstraintValidationImpl {\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-willvalidate\n  get willValidate() {\n    return this._isCandidateForConstraintValidation();\n  }\n\n  get validity() {\n    if (!this._validity) {\n      this._validity = ValidityState.createImpl(this._globalObject, [], {\n        element: this\n      });\n    }\n    return this._validity;\n  }\n\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-checkvalidity\n  checkValidity() {\n    if (!this._isCandidateForConstraintValidation()) {\n      return true;\n    }\n    if (this._satisfiesConstraints()) {\n      return true;\n    }\n    fireAnEvent(\"invalid\", this, undefined, { cancelable: true });\n    return false;\n  }\n\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-setcustomvalidity\n  setCustomValidity(message) {\n    this._customValidityErrorMessage = message;\n  }\n\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-reportvalidity\n  // Since jsdom has no user interaction, it's the same as #checkValidity\n  reportValidity() {\n    return this.checkValidity();\n  }\n\n  // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-validationmessage\n  get validationMessage() {\n    const { validity } = this;\n    if (!this._isCandidateForConstraintValidation() || this._satisfiesConstraints()) {\n      return \"\";\n    }\n    const isSufferingFromCustomError = validity.customError;\n    if (isSufferingFromCustomError) {\n      return this._customValidityErrorMessage;\n    }\n    return \"Constraints not satisfied\";\n  }\n\n  _isCandidateForConstraintValidation() {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fe-disabled\n    return !isDisabled(this) &&\n      // If an element has a datalist element ancestor,\n      // it is barred from constraint validation.\n      closest(this, \"datalist\") === null &&\n      !this._barredFromConstraintValidationSpecialization();\n  }\n\n  _isBarredFromConstraintValidation() {\n    return !this._isCandidateForConstraintValidation();\n  }\n\n  _satisfiesConstraints() {\n    return this.validity.valid;\n  }\n};\n"]},"metadata":{},"sourceType":"script"}