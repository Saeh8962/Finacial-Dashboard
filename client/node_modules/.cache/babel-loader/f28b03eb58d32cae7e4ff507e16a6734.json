{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar conversions = require(\"webidl-conversions\");\n\nvar _require = require(\"../helpers/details\"),\n    isSummaryForParentDetails = _require.isSummaryForParentDetails;\n\nvar focusing = require(\"../helpers/focusing\");\n\nvar _require2 = require(\"../helpers/namespaces\"),\n    HTML_NS = _require2.HTML_NS,\n    SVG_NS = _require2.SVG_NS;\n\nvar DOMStringMap = require(\"../generated/DOMStringMap\");\n\nvar tabIndexReflectAllowedHTMLElements = new Set([\"a\", \"area\", \"button\", \"frame\", \"iframe\", \"input\", \"object\", \"select\", \"textarea\"]);\n\nvar HTMLOrSVGElementImpl = /*#__PURE__*/function () {\n  function HTMLOrSVGElementImpl() {\n    _classCallCheck(this, HTMLOrSVGElementImpl);\n  }\n\n  _createClass(HTMLOrSVGElementImpl, [{\n    key: \"_initHTMLOrSVGElement\",\n    value: function _initHTMLOrSVGElement() {\n      this._tabIndex = 0;\n      this._dataset = DOMStringMap.createImpl(this._globalObject, [], {\n        element: this\n      });\n    }\n  }, {\n    key: \"dataset\",\n    get: function get() {\n      return this._dataset;\n    } // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\n\n  }, {\n    key: \"tabIndex\",\n    get: function get() {\n      if (!this.hasAttributeNS(null, \"tabindex\")) {\n        if (this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) || this._localName === \"summary\" && isSummaryForParentDetails(this)) || this.namespaceURI === SVG_NS && this._localName === \"a\") {\n          return 0;\n        }\n\n        return -1;\n      }\n\n      return conversions.long(this.getAttributeNS(null, \"tabindex\"));\n    },\n    set: function set(value) {\n      this.setAttributeNS(null, \"tabindex\", String(value));\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!focusing.isFocusableAreaElement(this)) {\n        return;\n      }\n\n      var ownerDocument = this._ownerDocument;\n      var previous = ownerDocument._lastFocusedElement;\n\n      if (previous === this) {\n        return;\n      }\n\n      ownerDocument._lastFocusedElement = null;\n\n      if (previous) {\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, {\n          bubbles: true\n        });\n      } else {\n        var frameElement = ownerDocument._defaultView._frameElement;\n\n        if (frameElement) {\n          var frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\n          frameElement.ownerDocument._lastFocusedElement = null;\n          focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\n          focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, {\n            bubbles: true\n          });\n          frameElement.ownerDocument._lastFocusedElement = frameElement;\n        }\n      }\n\n      ownerDocument._lastFocusedElement = this;\n      focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, {\n        bubbles: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\n        return;\n      }\n\n      this._ownerDocument._lastFocusedElement = null;\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, this._ownerDocument);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, this._ownerDocument, {\n        bubbles: true\n      });\n      focusing.fireFocusEventWithTargetAdjustment(\"focus\", this._ownerDocument, this);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this._ownerDocument, this, {\n        bubbles: true\n      });\n    }\n  }]);\n\n  return HTMLOrSVGElementImpl;\n}();\n\nexports.implementation = HTMLOrSVGElementImpl;","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js"],"names":["conversions","require","isSummaryForParentDetails","focusing","HTML_NS","SVG_NS","DOMStringMap","tabIndexReflectAllowedHTMLElements","Set","HTMLOrSVGElementImpl","_tabIndex","_dataset","createImpl","_globalObject","element","hasAttributeNS","namespaceURI","has","_localName","long","getAttributeNS","value","setAttributeNS","String","isFocusableAreaElement","ownerDocument","_ownerDocument","previous","_lastFocusedElement","fireFocusEventWithTargetAdjustment","bubbles","frameElement","_defaultView","_frameElement","frameLastFocusedElement","exports","implementation"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst { isSummaryForParentDetails } = require(\"../helpers/details\");\nconst focusing = require(\"../helpers/focusing\");\nconst { HTML_NS, SVG_NS } = require(\"../helpers/namespaces\");\nconst DOMStringMap = require(\"../generated/DOMStringMap\");\n\nconst tabIndexReflectAllowedHTMLElements = new Set([\n  \"a\", \"area\", \"button\", \"frame\", \"iframe\",\n  \"input\", \"object\", \"select\", \"textarea\"\n]);\n\nclass HTMLOrSVGElementImpl {\n  _initHTMLOrSVGElement() {\n    this._tabIndex = 0;\n    this._dataset = DOMStringMap.createImpl(this._globalObject, [], { element: this });\n  }\n\n  get dataset() {\n    return this._dataset;\n  }\n\n  // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\n  get tabIndex() {\n    if (!this.hasAttributeNS(null, \"tabindex\")) {\n      if ((this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) ||\n                                             (this._localName === \"summary\" && isSummaryForParentDetails(this)))) ||\n          (this.namespaceURI === SVG_NS && this._localName === \"a\")) {\n        return 0;\n      }\n      return -1;\n    }\n    return conversions.long(this.getAttributeNS(null, \"tabindex\"));\n  }\n\n  set tabIndex(value) {\n    this.setAttributeNS(null, \"tabindex\", String(value));\n  }\n\n  focus() {\n    if (!focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n    const ownerDocument = this._ownerDocument;\n    const previous = ownerDocument._lastFocusedElement;\n\n    if (previous === this) {\n      return;\n    }\n\n    ownerDocument._lastFocusedElement = null;\n    if (previous) {\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, { bubbles: true });\n    } else {\n      const frameElement = ownerDocument._defaultView._frameElement;\n      if (frameElement) {\n        const frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\n        frameElement.ownerDocument._lastFocusedElement = null;\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, { bubbles: true });\n        frameElement.ownerDocument._lastFocusedElement = frameElement;\n      }\n    }\n\n    ownerDocument._lastFocusedElement = this;\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, { bubbles: true });\n  }\n\n  blur() {\n    if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n\n    this._ownerDocument._lastFocusedElement = null;\n    focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, this._ownerDocument);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, this._ownerDocument, { bubbles: true });\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this._ownerDocument, this);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this._ownerDocument, this, { bubbles: true });\n  }\n}\n\nexports.implementation = HTMLOrSVGElementImpl;\n"]},"metadata":{},"sourceType":"script"}