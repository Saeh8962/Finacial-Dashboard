{"ast":null,"code":"import _slicedToArray from \"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/samehrlich/Desktop/final-app/client/src/panels/UserAlert.tsx\",\n    _s = $RefreshSig$();\n\nimport { PanelBar, PanelBarItem } from \"@progress/kendo-react-layout\";\nimport React from \"react\";\nimport { MultiColumnComboBox } from \"@progress/kendo-react-dropdowns\";\nimport { Grid, GridColumn } from \"@progress/kendo-react-grid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar columns = [{\n  field: \"Identifier\",\n  header: \"ID\",\n  width: \"100px\"\n}, {\n  field: \"movement\",\n  header: \"Tracking\",\n  width: \"300px\"\n}, {\n  field: \"valuechange\",\n  header: \"Change\",\n  width: \"300px\"\n}];\n\nfunction getAlertData(email, callback) {\n  var user = {\n    email: email,\n    request: \"getData\"\n  };\n  var url = \"/api/UserAlerts\";\n  var req = new Request(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  });\n  fetch(req).then(function (res) {\n    //Catch server error\n    //no error\n    return res.json();\n  }).catch(function (error) {\n    console.log(error);\n    return Promise.reject(error);\n  }).then(function (query_result) {\n    console.log(query_result);\n    callback(query_result);\n  });\n}\n\nexport default function Useralerts(props) {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      AlertData = _React$useState2[0],\n      setAlertData = _React$useState2[1];\n\n  React.useEffect(function () {\n    getAlertData(props.email, setAlertData);\n  }, []);\n\n  if (AlertData) {\n    //get the unique symbols, then get Alert type\n    var Stock_Alerts = AlertData.uniqueSymbols.map(function (symbol) {\n      console.log(symbol.symbol); //alert data for the unique stock\n\n      var uniqueAlertData = {\n        Symbol: symbol,\n        alerts: AlertData.alerts.filter(function (i, n) {\n          return i.symbol === symbol.symbol;\n        })\n      };\n      return uniqueAlertData;\n    });\n    var rendItem = Stock_Alerts.forEach(function (Alert, n) {\n      console.log(Alert);\n      return /*#__PURE__*/_jsxDEV(PanelBarItem, {\n        expanded: false,\n        title: Alert.Symbol,\n        children: /*#__PURE__*/_jsxDEV(MultiColumnComboBox, {\n          data: Alert.alerts,\n          columns: columns\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 18\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 20\n      }, _this);\n    }); // Object.values(Stock_Alerts).map((element: any) =>{\n    //     console.log(element);\n    // })\n    //************Too DOO handle the uniqueAlertData to display it has a panel with the stock symbol and then a bulti combo box as the drop down  */\n\n    return /*#__PURE__*/_jsxDEV(PanelBar, {\n      children: Stock_Alerts.map(function (Alert) {\n        return /*#__PURE__*/_jsxDEV(PanelBarItem, {\n          expanded: false,\n          title: Alert.Symbol.symbol,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            data: Alert.alerts // style={{ height: 700 }}\n            // onRowClick= {}\n            ,\n            children: [/*#__PURE__*/_jsxDEV(GridColumn, {\n              title: \"Category\",\n              field: \"Identifier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 37\n            }, _this), /*#__PURE__*/_jsxDEV(GridColumn, {\n              title: \"Movement\",\n              field: \"movement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 37\n            }, _this), /*#__PURE__*/_jsxDEV(GridColumn, {\n              title: \"Change\",\n              field: \"valuechange\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 37\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 33\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 28\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"td\", {\n      children: \"Working on it\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(Useralerts, \"8D2xwMyr/wlq2ciF5g7u4Bme1y8=\");\n\n_c = Useralerts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Useralerts\");","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/client/src/panels/UserAlert.tsx"],"names":["PanelBar","PanelBarItem","React","MultiColumnComboBox","Grid","GridColumn","columns","field","header","width","getAlertData","email","callback","user","request","url","req","Request","method","headers","body","JSON","stringify","fetch","then","res","json","catch","error","console","log","Promise","reject","query_result","Useralerts","props","useState","AlertData","setAlertData","useEffect","Stock_Alerts","uniqueSymbols","map","symbol","uniqueAlertData","Symbol","alerts","filter","i","n","rendItem","forEach","Alert"],"mappings":";;;;;AACA,SAASA,QAAT,EAAmBC,YAAnB,QAAuC,8BAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,iCAApC;AAEA,SAASC,IAAT,EAA8BC,UAA9B,QAAgD,4BAAhD;;AACA,IAAMC,OAAO,GAAG,CACZ;AACEC,EAAAA,KAAK,EAAE,YADT;AAEEC,EAAAA,MAAM,EAAE,IAFV;AAGEC,EAAAA,KAAK,EAAE;AAHT,CADY,EAMZ;AACEF,EAAAA,KAAK,EAAE,UADT;AAEEC,EAAAA,MAAM,EAAE,UAFV;AAGEC,EAAAA,KAAK,EAAE;AAHT,CANY,EAWZ;AACEF,EAAAA,KAAK,EAAE,aADT;AAEEC,EAAAA,MAAM,EAAE,QAFV;AAGEC,EAAAA,KAAK,EAAE;AAHT,CAXY,CAAhB;;AAiBA,SAASC,YAAT,CAAsBC,KAAtB,EAAmCC,QAAnC,EAAmE;AAC/D,MAAIC,IAAI,GAAG;AACPF,IAAAA,KAAK,EAACA,KADC;AAEPG,IAAAA,OAAO,EAAC;AAFD,GAAX;AAIA,MAAIC,GAAG,GAAC,iBAAR;AACQ,MAAMC,GAAG,GAAG,IAAIC,OAAJ,CAAYF,GAAZ,EAAgB;AACxBG,IAAAA,MAAM,EAAC,MADiB;AAExBC,IAAAA,OAAO,EAAC;AAAC,sBAAe;AAAhB,KAFgB;AAGxBC,IAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeT,IAAf;AAHmB,GAAhB,CAAZ;AAMAU,EAAAA,KAAK,CAACP,GAAD,CAAL,CACCQ,IADD,CACM,UAACC,GAAD,EAAO;AACT;AACI;AAEJ,WAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,GAND,EAMGC,KANH,CAMS,UAACC,KAAD,EAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,WAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH,GATD,EAUCJ,IAVD,CAUM,UAAAS,YAAY,EAAE;AAChBJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,YAAZ;AACArB,IAAAA,QAAQ,CAACqB,YAAD,CAAR;AACH,GAbD;AAeX;;AACD,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA+B;AAAA;;AAAA;;AAE1C,wBAAkCjC,KAAK,CAACkC,QAAN,EAAlC;AAAA;AAAA,MAAOC,SAAP;AAAA,MAAkBC,YAAlB;;AACApC,EAAAA,KAAK,CAACqC,SAAN,CAAgB,YAAM;AACpB7B,IAAAA,YAAY,CAACyB,KAAK,CAACxB,KAAP,EAAa2B,YAAb,CAAZ;AACD,GAFD,EAEG,EAFH;;AAGA,MAAGD,SAAH,EAAa;AACT;AAEA,QAAIG,YAAY,GAAGH,SAAS,CAACI,aAAV,CAAwBC,GAAxB,CAA4B,UAAAC,MAAM,EAAI;AACrDd,MAAAA,OAAO,CAACC,GAAR,CAAaa,MAAM,CAACA,MAApB,EADqD,CAErD;;AACA,UAAIC,eAAe,GAAC;AAACC,QAAAA,MAAM,EAACF,MAAR;AAAeG,QAAAA,MAAM,EAACT,SAAS,CAACS,MAAV,CAAiBC,MAAjB,CAAwB,UAACC,CAAD,EAAGC,CAAH;AAAA,iBAAOD,CAAC,CAACL,MAAF,KAAYA,MAAD,CAASA,MAA3B;AAAA,SAAxB;AAAtB,OAApB;AAEA,aAAOC,eAAP;AACH,KANkB,CAAnB;AAQA,QAAIM,QAAQ,GAAGV,YAAY,CAACW,OAAb,CAAqB,UAACC,KAAD,EAAOH,CAAP,EAAW;AAC3CpB,MAAAA,OAAO,CAACC,GAAR,CAAYsB,KAAZ;AACA,0BAAO,QAAC,YAAD;AAAc,QAAA,QAAQ,EAAE,KAAxB;AAA+B,QAAA,KAAK,EAAEA,KAAK,CAACP,MAA5C;AAAA,+BAEF,QAAC,mBAAD;AACG,UAAA,IAAI,EAAEO,KAAK,CAACN,MADf;AAEG,UAAA,OAAO,EAAExC;AAFZ;AAAA;AAAA;AAAA;AAAA;AAFE;AAAA;AAAA;AAAA;AAAA,eAAP;AAOH,KATc,CAAf,CAXS,CAqBT;AACA;AACA;AAEA;;AACA,wBACI,QAAC,QAAD;AAAA,gBACKkC,YAAY,CAACE,GAAb,CAAiB,UAAAU,KAAK,EAAE;AAErB,4BAAO,QAAC,YAAD;AAAc,UAAA,QAAQ,EAAE,KAAxB;AAA+B,UAAA,KAAK,EAAEA,KAAK,CAACP,MAAN,CAAaF,MAAnD;AAAA,iCAGK,QAAC,IAAD;AACA,YAAA,IAAI,EAAES,KAAK,CAACN,MADZ,CAEA;AACA;AAHA;AAAA,oCAOI,QAAC,UAAD;AAAY,cAAA,KAAK,EAAC,UAAlB;AAA6B,cAAA,KAAK,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,qBAPJ,eAQI,QAAC,UAAD;AAAY,cAAA,KAAK,EAAC,UAAlB;AAA6B,cAAA,KAAK,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,qBARJ,eASI,QAAC,UAAD;AAAY,cAAA,KAAK,EAAC,QAAlB;AAA2B,cAAA,KAAK,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,qBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAHL;AAAA;AAAA;AAAA;AAAA,iBAAP;AAiBH,OAnBA;AADL;AAAA;AAAA;AAAA;AAAA,YADJ;AAyBH,GAnDD,MAoDK;AACD,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH;AAKJ;;GAnEuBZ,U;;KAAAA,U","sourcesContent":["\nimport { PanelBar, PanelBarItem } from \"@progress/kendo-react-layout\";\nimport React from \"react\";\nimport { MultiColumnComboBox } from \"@progress/kendo-react-dropdowns\";\nimport { Alerts } from \"../data/models\";\nimport { Grid, GridCellProps, GridColumn } from \"@progress/kendo-react-grid\";\nconst columns = [\n    {\n      field: \"Identifier\",\n      header: \"ID\",\n      width: \"100px\",\n    },\n    {\n      field: \"movement\",\n      header: \"Tracking\",\n      width: \"300px\",\n    },\n    {\n      field: \"valuechange\",\n      header: \"Change\",\n      width: \"300px\",\n    },\n  ];\nfunction getAlertData(email:string,callback:(arg0: Alerts) => void){\n    var user = {\n        email:email,\n        request:\"getData\"\n    }\n    var url=\"/api/UserAlerts\";\n            const req = new Request(url,{\n                method:\"POST\",\n                headers:{\"Content-Type\":\"application/json\"},\n                body:JSON.stringify(user),\n            });\n            \n            fetch(req)\n            .then((res)=>{\n                //Catch server error\n                    //no error\n                    \n                return res.json();\n            }).catch((error)=>{\n                console.log(error);\n                return Promise.reject(error);\n            })\n            .then(query_result=>{\n                console.log(query_result);\n                callback(query_result)\n            }) \n    \n}\nexport default function Useralerts(props:any) {\n\n    const [AlertData, setAlertData] = React.useState<(Alerts)>();\n    React.useEffect(() => {\n      getAlertData(props.email,setAlertData)\n    }, []);\n    if(AlertData){ \n        //get the unique symbols, then get Alert type\n       \n        var Stock_Alerts = AlertData.uniqueSymbols.map(symbol => {\n            console.log((symbol.symbol))\n            //alert data for the unique stock\n            var uniqueAlertData={Symbol:symbol,alerts:AlertData.alerts.filter((i,n)=>i.symbol===(symbol).symbol)};\n            \n            return uniqueAlertData;\n        })\n        \n        var rendItem = Stock_Alerts.forEach((Alert,n)=>{\n            console.log(Alert);\n            return(<PanelBarItem expanded={false} title={Alert.Symbol} >\n\n                 <MultiColumnComboBox\n                    data={Alert.alerts}\n                    columns={columns}\n                    />   \n            </PanelBarItem>)\n        })\n        // Object.values(Stock_Alerts).map((element: any) =>{\n        //     console.log(element);\n        // })\n        \n        //************Too DOO handle the uniqueAlertData to display it has a panel with the stock symbol and then a bulti combo box as the drop down  */\n        return (\n            <PanelBar>\n                {Stock_Alerts.map(Alert=>{\n\n                    return(<PanelBarItem expanded={false} title={Alert.Symbol.symbol} >\n                        \n                            \n                                <Grid\n                                data={Alert.alerts}\n                                // style={{ height: 700 }}\n                                // onRowClick= {}\n                                \n                                     > \n\n                                    <GridColumn title=\"Category\" field=\"Identifier\" />\n                                    <GridColumn title=\"Movement\" field=\"movement\" />\n                                    <GridColumn title=\"Change\" field=\"valuechange\" />\n                                </Grid>\n            \n                   </PanelBarItem>)\n                    \n                })}\n            </PanelBar>\n        \n        )\n    }\n    else {\n        return (\n            <td>Working on it</td>\n        )\n    }\n\n\n    \n    \n}"]},"metadata":{},"sourceType":"module"}