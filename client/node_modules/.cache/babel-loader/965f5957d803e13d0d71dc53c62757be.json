{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar DOMException = require(\"domexception/webidl2js-wrapper\");\n\nvar NODE_TYPE = require(\"../node-type\");\n\nvar _require = require(\"../helpers/node\"),\n    nodeLength = _require.nodeLength,\n    nodeRoot = _require.nodeRoot;\n\nvar _require2 = require(\"../helpers/internal-constants\"),\n    domSymbolTree = _require2.domSymbolTree;\n\nvar _require3 = require(\"../range/boundary-point\"),\n    compareBoundaryPointsPosition = _require3.compareBoundaryPointsPosition;\n\nvar _require4 = require(\"../range/Range-impl\"),\n    setBoundaryPointStart = _require4.setBoundaryPointStart,\n    setBoundaryPointEnd = _require4.setBoundaryPointEnd;\n\nvar Range = require(\"../generated/Range\");\n\nvar _require5 = require(\"../generated/utils\"),\n    implForWrapper = _require5.implForWrapper; // https://w3c.github.io/selection-api/#dfn-direction\n\n\nvar SELECTION_DIRECTION = {\n  FORWARDS: 1,\n  BACKWARDS: -1,\n  DIRECTIONLESS: 0\n}; // https://w3c.github.io/selection-api/#dom-selection\n\nvar SelectionImpl = /*#__PURE__*/function () {\n  function SelectionImpl(globalObject) {\n    _classCallCheck(this, SelectionImpl);\n\n    this._range = null;\n    this._direction = SELECTION_DIRECTION.DIRECTIONLESS;\n    this._globalObject = globalObject;\n  } // https://w3c.github.io/selection-api/#dom-selection-anchornode\n\n\n  _createClass(SelectionImpl, [{\n    key: \"anchorNode\",\n    get: function get() {\n      var anchor = this._anchor;\n      return anchor ? anchor.node : null;\n    } // https://w3c.github.io/selection-api/#dom-selection-anchoroffset\n\n  }, {\n    key: \"anchorOffset\",\n    get: function get() {\n      var anchor = this._anchor;\n      return anchor ? anchor.offset : 0;\n    } // https://w3c.github.io/selection-api/#dom-selection-focusnode\n\n  }, {\n    key: \"focusNode\",\n    get: function get() {\n      var focus = this._focus;\n      return focus ? focus.node : null;\n    } // https://w3c.github.io/selection-api/#dom-selection-focusoffset\n\n  }, {\n    key: \"focusOffset\",\n    get: function get() {\n      var focus = this._focus;\n      return focus ? focus.offset : 0;\n    } // https://w3c.github.io/selection-api/#dom-selection-iscollapsed\n\n  }, {\n    key: \"isCollapsed\",\n    get: function get() {\n      return this._range === null || this._range.collapsed;\n    } // https://w3c.github.io/selection-api/#dom-selection-rangecount\n\n  }, {\n    key: \"rangeCount\",\n    get: function get() {\n      return this._isEmpty() ? 0 : 1;\n    } // https://w3c.github.io/selection-api/#dom-selection-type\n\n  }, {\n    key: \"type\",\n    get: function get() {\n      if (this._isEmpty()) {\n        return \"None\";\n      } else if (this._range.collapsed) {\n        return \"Caret\";\n      }\n\n      return \"Range\";\n    } // https://w3c.github.io/selection-api/#dom-selection-getrangeat\n\n  }, {\n    key: \"getRangeAt\",\n    value: function getRangeAt(index) {\n      if (index !== 0 || this._isEmpty()) {\n        throw DOMException.create(this._globalObject, [\"Invalid range index.\", \"IndexSizeError\"]);\n      }\n\n      return this._range;\n    } // https://w3c.github.io/selection-api/#dom-selection-addrange\n\n  }, {\n    key: \"addRange\",\n    value: function addRange(range) {\n      if (range._root === implForWrapper(this._globalObject._document) && this.rangeCount === 0) {\n        this._associateRange(range);\n      }\n    } // https://w3c.github.io/selection-api/#dom-selection-removerange\n\n  }, {\n    key: \"removeRange\",\n    value: function removeRange(range) {\n      if (range !== this._range) {\n        throw DOMException.create(this._globalObject, [\"Invalid range.\", \"NotFoundError\"]);\n      }\n\n      this._associateRange(null);\n    } // https://w3c.github.io/selection-api/#dom-selection-removeallranges\n\n  }, {\n    key: \"removeAllRanges\",\n    value: function removeAllRanges() {\n      this._associateRange(null);\n    } // https://w3c.github.io/selection-api/#dom-selection-empty\n\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      this.removeAllRanges();\n    } // https://w3c.github.io/selection-api/#dom-selection-collapse\n\n  }, {\n    key: \"collapse\",\n    value: function collapse(node, offset) {\n      if (node === null) {\n        this.removeAllRanges();\n        return;\n      }\n\n      if (node.nodeType === NODE_TYPE.DOCUMENT_TYPE_NODE) {\n        throw DOMException.create(this._globalObject, [\"DocumentType Node can't be used as boundary point.\", \"InvalidNodeTypeError\"]);\n      }\n\n      if (offset > nodeLength(node)) {\n        throw DOMException.create(this._globalObject, [\"Invalid range index.\", \"IndexSizeError\"]);\n      }\n\n      if (nodeRoot(node) !== implForWrapper(this._globalObject._document)) {\n        return;\n      }\n\n      var newRange = Range.createImpl(this._globalObject, [], {\n        start: {\n          node: node,\n          offset: 0\n        },\n        end: {\n          node: node,\n          offset: 0\n        }\n      });\n      setBoundaryPointStart(newRange, node, offset);\n      setBoundaryPointEnd(newRange, node, offset);\n\n      this._associateRange(newRange);\n    } // https://w3c.github.io/selection-api/#dom-selection-setposition\n\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(node, offset) {\n      this.collapse(node, offset);\n    } // https://w3c.github.io/selection-api/#dom-selection-collapsetostart\n\n  }, {\n    key: \"collapseToStart\",\n    value: function collapseToStart() {\n      if (this._isEmpty()) {\n        throw DOMException.create(this._globalObject, [\"There is no selection to collapse.\", \"InvalidStateError\"]);\n      }\n\n      var _this$_range$_start = this._range._start,\n          node = _this$_range$_start.node,\n          offset = _this$_range$_start.offset;\n      var newRange = Range.createImpl(this._globalObject, [], {\n        start: {\n          node: node,\n          offset: offset\n        },\n        end: {\n          node: node,\n          offset: offset\n        }\n      });\n\n      this._associateRange(newRange);\n    } // https://w3c.github.io/selection-api/#dom-selection-collapsetoend\n\n  }, {\n    key: \"collapseToEnd\",\n    value: function collapseToEnd() {\n      if (this._isEmpty()) {\n        throw DOMException.create(this._globalObject, [\"There is no selection to collapse.\", \"InvalidStateError\"]);\n      }\n\n      var _this$_range$_end = this._range._end,\n          node = _this$_range$_end.node,\n          offset = _this$_range$_end.offset;\n      var newRange = Range.createImpl(this._globalObject, [], {\n        start: {\n          node: node,\n          offset: offset\n        },\n        end: {\n          node: node,\n          offset: offset\n        }\n      });\n\n      this._associateRange(newRange);\n    } // https://w3c.github.io/selection-api/#dom-selection-extend\n\n  }, {\n    key: \"extend\",\n    value: function extend(node, offset) {\n      if (nodeRoot(node) !== implForWrapper(this._globalObject._document)) {\n        return;\n      }\n\n      if (this._isEmpty()) {\n        throw DOMException.create(this._globalObject, [\"There is no selection to extend.\", \"InvalidStateError\"]);\n      }\n\n      var oldAnchor = this._anchor;\n      var newFocus = {\n        node: node,\n        offset: offset\n      };\n      var newRange = Range.createImpl(this._globalObject, [], {\n        start: {\n          node: node,\n          offset: 0\n        },\n        end: {\n          node: node,\n          offset: 0\n        }\n      });\n\n      if (nodeRoot(node) !== this._range._root) {\n        setBoundaryPointStart(newRange, newFocus.node, newFocus.offset);\n        setBoundaryPointEnd(newRange, newFocus.node, newFocus.offset);\n      } else if (compareBoundaryPointsPosition(oldAnchor, newFocus) <= 0) {\n        setBoundaryPointStart(newRange, oldAnchor.node, oldAnchor.offset);\n        setBoundaryPointEnd(newRange, newFocus.node, newFocus.offset);\n      } else {\n        setBoundaryPointStart(newRange, newFocus.node, newFocus.offset);\n        setBoundaryPointEnd(newRange, oldAnchor.node, oldAnchor.offset);\n      }\n\n      this._associateRange(newRange);\n\n      this._direction = compareBoundaryPointsPosition(newFocus, oldAnchor) === -1 ? SELECTION_DIRECTION.BACKWARDS : SELECTION_DIRECTION.FORWARDS;\n    } // https://w3c.github.io/selection-api/#dom-selection-setbaseandextent\n\n  }, {\n    key: \"setBaseAndExtent\",\n    value: function setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset) {\n      if (anchorOffset > nodeLength(anchorNode) || focusOffset > nodeLength(focusNode)) {\n        throw DOMException.create(this._globalObject, [\"Invalid anchor or focus offset.\", \"IndexSizeError\"]);\n      }\n\n      var document = implForWrapper(this._globalObject._document);\n\n      if (document !== nodeRoot(anchorNode) || document !== nodeRoot(focusNode)) {\n        return;\n      }\n\n      var anchor = {\n        node: anchorNode,\n        offset: anchorOffset\n      };\n      var focus = {\n        node: focusNode,\n        offset: focusOffset\n      };\n      var newRange;\n\n      if (compareBoundaryPointsPosition(anchor, focus) === -1) {\n        newRange = Range.createImpl(this._globalObject, [], {\n          start: {\n            node: anchor.node,\n            offset: anchor.offset\n          },\n          end: {\n            node: focus.node,\n            offset: focus.offset\n          }\n        });\n      } else {\n        newRange = Range.createImpl(this._globalObject, [], {\n          start: {\n            node: focus.node,\n            offset: focus.offset\n          },\n          end: {\n            node: anchor.node,\n            offset: anchor.offset\n          }\n        });\n      }\n\n      this._associateRange(newRange);\n\n      this._direction = compareBoundaryPointsPosition(focus, anchor) === -1 ? SELECTION_DIRECTION.BACKWARDS : SELECTION_DIRECTION.FORWARDS;\n    } // https://w3c.github.io/selection-api/#dom-selection-selectallchildren\n\n  }, {\n    key: \"selectAllChildren\",\n    value: function selectAllChildren(node) {\n      if (node.nodeType === NODE_TYPE.DOCUMENT_TYPE_NODE) {\n        throw DOMException.create(this._globalObject, [\"DocumentType Node can't be used as boundary point.\", \"InvalidNodeTypeError\"]);\n      }\n\n      var document = implForWrapper(this._globalObject._document);\n\n      if (document !== nodeRoot(node)) {\n        return;\n      }\n\n      var length = domSymbolTree.childrenCount(node);\n      var newRange = Range.createImpl(this._globalObject, [], {\n        start: {\n          node: node,\n          offset: 0\n        },\n        end: {\n          node: node,\n          offset: 0\n        }\n      });\n      setBoundaryPointStart(newRange, node, 0);\n      setBoundaryPointEnd(newRange, node, length);\n\n      this._associateRange(newRange);\n    } // https://w3c.github.io/selection-api/#dom-selection-deletefromdocument\n\n  }, {\n    key: \"deleteFromDocument\",\n    value: function deleteFromDocument() {\n      if (!this._isEmpty()) {\n        this._range.deleteContents();\n      }\n    } // https://w3c.github.io/selection-api/#dom-selection-containsnode\n\n  }, {\n    key: \"containsNode\",\n    value: function containsNode(node, allowPartialContainment) {\n      if (this._isEmpty() || nodeRoot(node) !== implForWrapper(this._globalObject._document)) {\n        return false;\n      }\n\n      var _this$_range = this._range,\n          _start = _this$_range._start,\n          _end = _this$_range._end;\n      var startIsBeforeNode = compareBoundaryPointsPosition(_start, {\n        node: node,\n        offset: 0\n      }) === -1;\n      var endIsAfterNode = compareBoundaryPointsPosition(_end, {\n        node: node,\n        offset: nodeLength(node)\n      }) === 1;\n      return allowPartialContainment ? startIsBeforeNode || endIsAfterNode : startIsBeforeNode && endIsAfterNode;\n    } // https://w3c.github.io/selection-api/#dom-selection-stringifier\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this._range ? this._range.toString() : \"\";\n    } // https://w3c.github.io/selection-api/#dfn-empty\n\n  }, {\n    key: \"_isEmpty\",\n    value: function _isEmpty() {\n      return this._range === null;\n    } // https://w3c.github.io/selection-api/#dfn-anchor\n\n  }, {\n    key: \"_anchor\",\n    get: function get() {\n      if (!this._range) {\n        return null;\n      }\n\n      return this._direction === SELECTION_DIRECTION.FORWARDS ? this._range._start : this._range._end;\n    } // https://w3c.github.io/selection-api/#dfn-focus\n\n  }, {\n    key: \"_focus\",\n    get: function get() {\n      if (!this._range) {\n        return null;\n      }\n\n      return this._direction === SELECTION_DIRECTION.FORWARDS ? this._range._end : this._range._start;\n    }\n  }, {\n    key: \"_associateRange\",\n    value: function _associateRange(newRange) {\n      this._range = newRange;\n      this._direction = newRange === null ? SELECTION_DIRECTION.DIRECTIONLESS : SELECTION_DIRECTION.FORWARDS; // TODO: Emit \"selectionchange\" event. At this time, there is currently no test in WPT covering this.\n      // https://w3c.github.io/selection-api/#selectionchange-event\n    }\n  }]);\n\n  return SelectionImpl;\n}();\n\nmodule.exports = {\n  implementation: SelectionImpl\n};","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/node_modules/jsdom/lib/jsdom/living/selection/Selection-impl.js"],"names":["DOMException","require","NODE_TYPE","nodeLength","nodeRoot","domSymbolTree","compareBoundaryPointsPosition","setBoundaryPointStart","setBoundaryPointEnd","Range","implForWrapper","SELECTION_DIRECTION","FORWARDS","BACKWARDS","DIRECTIONLESS","SelectionImpl","globalObject","_range","_direction","_globalObject","anchor","_anchor","node","offset","focus","_focus","collapsed","_isEmpty","index","create","range","_root","_document","rangeCount","_associateRange","removeAllRanges","nodeType","DOCUMENT_TYPE_NODE","newRange","createImpl","start","end","collapse","_start","_end","oldAnchor","newFocus","anchorNode","anchorOffset","focusNode","focusOffset","document","length","childrenCount","deleteContents","allowPartialContainment","startIsBeforeNode","endIsAfterNode","toString","module","exports","implementation"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\n\nconst NODE_TYPE = require(\"../node-type\");\nconst { nodeLength, nodeRoot } = require(\"../helpers/node\");\nconst { domSymbolTree } = require(\"../helpers/internal-constants\");\nconst { compareBoundaryPointsPosition } = require(\"../range/boundary-point\");\n\nconst { setBoundaryPointStart, setBoundaryPointEnd } = require(\"../range/Range-impl\");\n\nconst Range = require(\"../generated/Range\");\nconst { implForWrapper } = require(\"../generated/utils\");\n\n// https://w3c.github.io/selection-api/#dfn-direction\nconst SELECTION_DIRECTION = {\n  FORWARDS: 1,\n  BACKWARDS: -1,\n  DIRECTIONLESS: 0\n};\n\n// https://w3c.github.io/selection-api/#dom-selection\nclass SelectionImpl {\n  constructor(globalObject) {\n    this._range = null;\n    this._direction = SELECTION_DIRECTION.DIRECTIONLESS;\n\n    this._globalObject = globalObject;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-anchornode\n  get anchorNode() {\n    const anchor = this._anchor;\n    return anchor ? anchor.node : null;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-anchoroffset\n  get anchorOffset() {\n    const anchor = this._anchor;\n    return anchor ? anchor.offset : 0;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-focusnode\n  get focusNode() {\n    const focus = this._focus;\n    return focus ? focus.node : null;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-focusoffset\n  get focusOffset() {\n    const focus = this._focus;\n    return focus ? focus.offset : 0;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-iscollapsed\n  get isCollapsed() {\n    return this._range === null || this._range.collapsed;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-rangecount\n  get rangeCount() {\n    return this._isEmpty() ? 0 : 1;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-type\n  get type() {\n    if (this._isEmpty()) {\n      return \"None\";\n    } else if (this._range.collapsed) {\n      return \"Caret\";\n    }\n\n    return \"Range\";\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-getrangeat\n  getRangeAt(index) {\n    if (index !== 0 || this._isEmpty()) {\n      throw DOMException.create(this._globalObject, [\"Invalid range index.\", \"IndexSizeError\"]);\n    }\n\n    return this._range;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-addrange\n  addRange(range) {\n    if (range._root === implForWrapper(this._globalObject._document) && this.rangeCount === 0) {\n      this._associateRange(range);\n    }\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-removerange\n  removeRange(range) {\n    if (range !== this._range) {\n      throw DOMException.create(this._globalObject, [\"Invalid range.\", \"NotFoundError\"]);\n    }\n\n    this._associateRange(null);\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-removeallranges\n  removeAllRanges() {\n    this._associateRange(null);\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-empty\n  empty() {\n    this.removeAllRanges();\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-collapse\n  collapse(node, offset) {\n    if (node === null) {\n      this.removeAllRanges();\n      return;\n    }\n\n    if (node.nodeType === NODE_TYPE.DOCUMENT_TYPE_NODE) {\n      throw DOMException.create(this._globalObject, [\n        \"DocumentType Node can't be used as boundary point.\",\n        \"InvalidNodeTypeError\"\n      ]);\n    }\n\n    if (offset > nodeLength(node)) {\n      throw DOMException.create(this._globalObject, [\"Invalid range index.\", \"IndexSizeError\"]);\n    }\n\n    if (nodeRoot(node) !== implForWrapper(this._globalObject._document)) {\n      return;\n    }\n\n    const newRange = Range.createImpl(this._globalObject, [], {\n      start: { node, offset: 0 },\n      end: { node, offset: 0 }\n    });\n\n    setBoundaryPointStart(newRange, node, offset);\n    setBoundaryPointEnd(newRange, node, offset);\n\n    this._associateRange(newRange);\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-setposition\n  setPosition(node, offset) {\n    this.collapse(node, offset);\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-collapsetostart\n  collapseToStart() {\n    if (this._isEmpty()) {\n      throw DOMException.create(this._globalObject, [\"There is no selection to collapse.\", \"InvalidStateError\"]);\n    }\n\n    const { node, offset } = this._range._start;\n    const newRange = Range.createImpl(this._globalObject, [], {\n      start: { node, offset },\n      end: { node, offset }\n    });\n\n    this._associateRange(newRange);\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-collapsetoend\n  collapseToEnd() {\n    if (this._isEmpty()) {\n      throw DOMException.create(this._globalObject, [\"There is no selection to collapse.\", \"InvalidStateError\"]);\n    }\n\n    const { node, offset } = this._range._end;\n    const newRange = Range.createImpl(this._globalObject, [], {\n      start: { node, offset },\n      end: { node, offset }\n    });\n\n    this._associateRange(newRange);\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-extend\n  extend(node, offset) {\n    if (nodeRoot(node) !== implForWrapper(this._globalObject._document)) {\n      return;\n    }\n\n    if (this._isEmpty()) {\n      throw DOMException.create(this._globalObject, [\"There is no selection to extend.\", \"InvalidStateError\"]);\n    }\n\n    const { _anchor: oldAnchor } = this;\n    const newFocus = { node, offset };\n\n    const newRange = Range.createImpl(this._globalObject, [], {\n      start: { node, offset: 0 },\n      end: { node, offset: 0 }\n    });\n\n    if (nodeRoot(node) !== this._range._root) {\n      setBoundaryPointStart(newRange, newFocus.node, newFocus.offset);\n      setBoundaryPointEnd(newRange, newFocus.node, newFocus.offset);\n    } else if (compareBoundaryPointsPosition(oldAnchor, newFocus) <= 0) {\n      setBoundaryPointStart(newRange, oldAnchor.node, oldAnchor.offset);\n      setBoundaryPointEnd(newRange, newFocus.node, newFocus.offset);\n    } else {\n      setBoundaryPointStart(newRange, newFocus.node, newFocus.offset);\n      setBoundaryPointEnd(newRange, oldAnchor.node, oldAnchor.offset);\n    }\n\n    this._associateRange(newRange);\n\n    this._direction = compareBoundaryPointsPosition(newFocus, oldAnchor) === -1 ?\n      SELECTION_DIRECTION.BACKWARDS :\n      SELECTION_DIRECTION.FORWARDS;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-setbaseandextent\n  setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset) {\n    if (anchorOffset > nodeLength(anchorNode) || focusOffset > nodeLength(focusNode)) {\n      throw DOMException.create(this._globalObject, [\"Invalid anchor or focus offset.\", \"IndexSizeError\"]);\n    }\n\n    const document = implForWrapper(this._globalObject._document);\n    if (document !== nodeRoot(anchorNode) || document !== nodeRoot(focusNode)) {\n      return;\n    }\n\n    const anchor = { node: anchorNode, offset: anchorOffset };\n    const focus = { node: focusNode, offset: focusOffset };\n\n    let newRange;\n    if (compareBoundaryPointsPosition(anchor, focus) === -1) {\n      newRange = Range.createImpl(this._globalObject, [], {\n        start: { node: anchor.node, offset: anchor.offset },\n        end: { node: focus.node, offset: focus.offset }\n      });\n    } else {\n      newRange = Range.createImpl(this._globalObject, [], {\n        start: { node: focus.node, offset: focus.offset },\n        end: { node: anchor.node, offset: anchor.offset }\n      });\n    }\n\n    this._associateRange(newRange);\n\n    this._direction = compareBoundaryPointsPosition(focus, anchor) === -1 ?\n      SELECTION_DIRECTION.BACKWARDS :\n      SELECTION_DIRECTION.FORWARDS;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-selectallchildren\n  selectAllChildren(node) {\n    if (node.nodeType === NODE_TYPE.DOCUMENT_TYPE_NODE) {\n      throw DOMException.create(this._globalObject, [\n        \"DocumentType Node can't be used as boundary point.\",\n        \"InvalidNodeTypeError\"\n      ]);\n    }\n\n    const document = implForWrapper(this._globalObject._document);\n    if (document !== nodeRoot(node)) {\n      return;\n    }\n\n    const length = domSymbolTree.childrenCount(node);\n\n    const newRange = Range.createImpl(this._globalObject, [], {\n      start: { node, offset: 0 },\n      end: { node, offset: 0 }\n    });\n\n    setBoundaryPointStart(newRange, node, 0);\n    setBoundaryPointEnd(newRange, node, length);\n\n    this._associateRange(newRange);\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-deletefromdocument\n  deleteFromDocument() {\n    if (!this._isEmpty()) {\n      this._range.deleteContents();\n    }\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-containsnode\n  containsNode(node, allowPartialContainment) {\n    if (this._isEmpty() || nodeRoot(node) !== implForWrapper(this._globalObject._document)) {\n      return false;\n    }\n\n    const { _start, _end } = this._range;\n\n    const startIsBeforeNode = compareBoundaryPointsPosition(_start, { node, offset: 0 }) === -1;\n    const endIsAfterNode = compareBoundaryPointsPosition(_end, { node, offset: nodeLength(node) }) === 1;\n\n    return allowPartialContainment ?\n      startIsBeforeNode || endIsAfterNode :\n      startIsBeforeNode && endIsAfterNode;\n  }\n\n  // https://w3c.github.io/selection-api/#dom-selection-stringifier\n  toString() {\n    return this._range ? this._range.toString() : \"\";\n  }\n\n  // https://w3c.github.io/selection-api/#dfn-empty\n  _isEmpty() {\n    return this._range === null;\n  }\n\n  // https://w3c.github.io/selection-api/#dfn-anchor\n  get _anchor() {\n    if (!this._range) {\n      return null;\n    }\n\n    return this._direction === SELECTION_DIRECTION.FORWARDS ?\n      this._range._start :\n      this._range._end;\n  }\n\n  // https://w3c.github.io/selection-api/#dfn-focus\n  get _focus() {\n    if (!this._range) {\n      return null;\n    }\n\n    return this._direction === SELECTION_DIRECTION.FORWARDS ?\n      this._range._end :\n      this._range._start;\n  }\n\n  _associateRange(newRange) {\n    this._range = newRange;\n    this._direction = newRange === null ? SELECTION_DIRECTION.DIRECTIONLESS : SELECTION_DIRECTION.FORWARDS;\n\n    // TODO: Emit \"selectionchange\" event. At this time, there is currently no test in WPT covering this.\n    // https://w3c.github.io/selection-api/#selectionchange-event\n  }\n}\n\nmodule.exports = {\n  implementation: SelectionImpl\n};\n"]},"metadata":{},"sourceType":"script"}