{"ast":null,"code":"import _classCallCheck from \"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/samehrlich/Desktop/final-app/client/src/signUp.js\";\nimport React, { Component } from \"react\";\nimport { Button } from \"reactstrap/es\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./CSS/GlobalCSS.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar bcrypt = require('bcrypt-nodejs/bCrypt');\n\nvar signUp = /*#__PURE__*/function (_Component) {\n  _inherits(signUp, _Component);\n\n  var _super = _createSuper(signUp);\n\n  function signUp(props) {\n    var _this;\n\n    _classCallCheck(this, signUp);\n\n    _this = _super.call(this, props);\n    _this.handlePassword = _this.handlePassword.bind(_assertThisInitialized(_this));\n    _this.handleEmail = _this.handleEmail.bind(_assertThisInitialized(_this));\n    _this.routeChange = _this.routeChange.bind(_assertThisInitialized(_this));\n    _this.test = _this.test.bind(_assertThisInitialized(_this));\n    _this.state = {\n      password: \"\",\n      email: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(signUp, [{\n    key: \"handleEmail\",\n    value: function handleEmail(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"handlePassword\",\n    value: function handlePassword(event) {\n      this.setState({\n        password: event.target.value\n      });\n    } // Handle to new Brower path\n\n  }, {\n    key: \"routeChange\",\n    value: function routeChange(value) {\n      if (value.target.id === \"back\") {\n        this.props.history.push(\"/\", this.props.history.location.state);\n      } else if (value.target.id == \"Home\") {\n        this.props.history.push(\"/home\", this.props.history.location.state);\n      }\n    } //Test the users email and password input\n\n  }, {\n    key: \"test\",\n    value: function test() {\n      var _this2 = this;\n\n      //used to check if the password has 7-15 characts and contrains at least one numeric dogot and a special character\n      var secureCheck = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\n\n      if (this.state.password.match(secureCheck)) {\n        var user = {\n          email: this.state.email,\n          password: bcrypt.hashSync(this.state.password)\n        };\n        console.log(user);\n        var url = \"/api/signup\";\n        var req = new Request(url, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(user)\n        });\n        fetch(req).then(function (res) {\n          //Catch server error\n          //no error\n          return res.json();\n        }).catch(function (error) {\n          console.log(error);\n          return Promise.reject(error);\n        }).then(function (query_result) {\n          return _this2.setState({\n            query: [[{\n              email: _this2.state.email\n            }], []],\n            SignStatus: query_result\n          }, function () {\n            return console.log(query_result);\n          });\n        }).then(function () {\n          if (_this2.state.SignStatus === \"Unconfirmed User Added\") {\n            _this2.props.history.push(\"/\");\n          } else if (_this2.state.SignStatus === \"Duplicate Email\") {\n            _this2.setState.SignStatus = \"\";\n            alert(\"Email Is Currently In Use\");\n          }\n        });\n      } else {\n        alert(\"Password must have 7 to 15 characters and contain at least one numeric digit and a special character\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"Sign Status\", this.state.SignStatus); //email has not been confirmed yet \n      // if (this.state.SignStatus === \"Unconfirmed User Added\"){\n      //     this.props.history.push(\"/confirmEmail\");\n      // }\n      //email submitted is already in the database\n      // else if (this.state.SignStatus === \"Duplicate Email\"){\n      //     this.setState.SignStatus = \"\";\n      //     alert(\"Email Is Currently In Use\")\n      // }\n\n      var color = \"white\"; //if password is empy set the box to white\n\n      if (this.state.password === null || this.state.password.length === 0) {\n        color = \"white\";\n      } //if password matches the constraints set the box to green\n      else if (this.state.password.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/)) {\n          color = \"green\";\n        } //otherwise the password is not valid so set the box to red\n        else {\n            color = \"red\";\n          }\n\n      var styleAttr = {\n        borderBottom: \"2px solid \" + color\n      };\n      var leftarrow = \"U+274C\";\n\n      var passwordInput = /*#__PURE__*/_jsxDEV(\"input\", {\n        style: styleAttr,\n        onChange: this.handlePassword,\n        className: \"FormField-Input_Ls\",\n        placeholder: \"Create a Password\",\n        type: \"Password\",\n        name: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }, this);\n\n      var emailInput = /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: this.handleEmail,\n        className: \"FormField_Input_LS\",\n        placeholder: \"Email\",\n        type: \"text\",\n        name: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 26\n      }, this);\n\n      var backButton = /*#__PURE__*/_jsxDEV(Button, {\n        className: \"Button\",\n        id: \"back\",\n        onClick: this.routeChange,\n        children: leftarrow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 26\n      }, this);\n\n      var signUpButton = /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.test,\n        className: \"Button\",\n        id: \"SignupButton\",\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 28\n      }, this);\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"CenterWrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"HeaderInfo\",\n          id: \"TitleTextSignUp\",\n          children: \"Sign Up!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"FormWrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"FormField\",\n            children: emailInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"FormField\",\n            children: passwordInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), backButton, signUpButton]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, this);\n    }\n  }]);\n\n  return signUp;\n}(Component);\n\nexport default withRouter(signUp);","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/client/src/signUp.js"],"names":["React","Component","Button","withRouter","bcrypt","require","signUp","props","handlePassword","bind","handleEmail","routeChange","test","state","password","email","event","setState","target","value","id","history","push","location","secureCheck","match","user","hashSync","console","log","url","req","Request","method","headers","body","JSON","stringify","fetch","then","res","json","catch","error","Promise","reject","query_result","query","SignStatus","alert","color","length","styleAttr","borderBottom","leftarrow","passwordInput","emailInput","backButton","signUpButton"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\nimport {Button} from \"reactstrap/es\";\nimport {withRouter} from \"react-router-dom\";\nimport \"./CSS/GlobalCSS.css\";\n\nconst bcrypt = require('bcrypt-nodejs/bCrypt');\n\nclass signUp extends Component{\n    constructor(props){\n        super(props);\n        this.handlePassword=this.handlePassword.bind(this);\n        this.handleEmail=this.handleEmail.bind(this);\n        this.routeChange=this.routeChange.bind(this);\n        this.test=this.test.bind(this);\n        this.state={\n            password:\"\",\n            email:\"\"\n        }\n    }\n\n    handleEmail(event){\n        this.setState({email: event.target.value});\n    }\n\n    handlePassword(event){\n        this.setState({password: event.target.value});\n    }\n\n    // Handle to new Brower path\n    routeChange(value){\n        if (value.target.id === \"back\"){\n            this.props.history.push(\"/\",this.props.history.location.state);\n          }\n    \n          else if(value.target.id==\"Home\"){\n            this.props.history.push(\"/home\",this.props.history.location.state);\n          }\n    }\n\n    //Test the users email and password input\n\n    test(){\n        //used to check if the password has 7-15 characts and contrains at least one numeric dogot and a special character\n        var secureCheck = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\n        if(this.state.password.match(secureCheck)){\n            var user={\n                email:this.state.email,\n                password:bcrypt.hashSync(this.state.password)\n            }\n            \n            console.log(user);\n\n            var url=\"/api/signup\";\n            const req = new Request(url,{\n                method:\"POST\",\n                headers:{\"Content-Type\":\"application/json\"},\n                body:JSON.stringify(user),\n\n            });\n            fetch(req)\n            .then((res)=>{\n                //Catch server error\n                    //no error\n                    return res.json();\n                }).catch((error)=>{\n                    console.log(error);\n                    return Promise.reject(error);\n                })\n            .then(query_result => this.setState({query:[[{email:this.state.email}],[]],SignStatus:query_result},()=> console.log(query_result)))\n            .then(()=>{\n                if (this.state.SignStatus === \"Unconfirmed User Added\"){\n                    this.props.history.push(\"/\");\n                }\n                else if (this.state.SignStatus === \"Duplicate Email\"){\n                    this.setState.SignStatus = \"\";\n                    alert(\"Email Is Currently In Use\")\n                }\n                \n            });\n\n        }\n        else{\n            alert(\"Password must have 7 to 15 characters and contain at least one numeric digit and a special character\");\n           }\n\n    }\n\n    render(){\n        console.log(\"Sign Status\",this.state.SignStatus)\n\n        //email has not been confirmed yet \n        // if (this.state.SignStatus === \"Unconfirmed User Added\"){\n        //     this.props.history.push(\"/confirmEmail\");\n        // }\n        //email submitted is already in the database\n        // else if (this.state.SignStatus === \"Duplicate Email\"){\n        //     this.setState.SignStatus = \"\";\n        //     alert(\"Email Is Currently In Use\")\n        // }\n        var color = \"white\";\n        //if password is empy set the box to white\n        if(this.state.password === null || this.state.password.length === 0){\n            color = \"white\";\n        }\n        //if password matches the constraints set the box to green\n        else if(this.state.password.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/)){\n            color = \"green\";\n          }\n        //otherwise the password is not valid so set the box to red\n        else{\n            color = \"red\"\n          }\n\n        var styleAttr = {borderBottom:\"2px solid \"+color}\n        var leftarrow = \"\\U+274C\"\n\n        var passwordInput = <input style = {styleAttr} onChange={this.handlePassword} className= \"FormField-Input_Ls\" placeholder= \"Create a Password\" type=\"Password\" name=\"Password\" />\n        var emailInput = <input onChange={this.handleEmail} className= \"FormField_Input_LS\" placeholder=\"Email\" type=\"text\" name=\"Email\"/>\n        var backButton = <Button className=\"Button\" id= \"back\" onClick={this.routeChange}>{leftarrow}</Button>\n        var signUpButton = <Button onClick={this.test} className= \"Button\" id=\"SignupButton\">Create Account</Button>\n        return(\n                \n    <div className= \"CenterWrapper\">\n\n        <div className= \"HeaderInfo\" id=\"TitleTextSignUp\">\n        Sign Up!\n        </div>\n\n        <div className = \"FormWrap\">\n        \n            <div className=\"FormField\">\n                {emailInput}\n            </div>\n            \n            <div className=\"FormField\">\n                {passwordInput}\n            </div>\n\n            {backButton}\n            {signUpButton}\n\n        </div>\n    </div>\n        \n        );\n    }\n\n}\nexport default withRouter(signUp);"]},"metadata":{},"sourceType":"module"}