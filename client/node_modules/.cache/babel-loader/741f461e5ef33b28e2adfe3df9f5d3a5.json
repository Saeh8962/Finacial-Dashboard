{"ast":null,"code":"import _slicedToArray from \"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/samehrlich/Desktop/final-app/client/src/panels/PerformancePanel.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Chart, ChartSeries, ChartSeriesItem, ChartCategoryAxis, ChartCategoryAxisItem, ChartValueAxisItem, ChartValueAxis, ChartTitle, ChartTooltip, ChartSeriesItemTooltip } from \"@progress/kendo-react-charts\";\nimport \"hammerjs\";\nimport { getHistory } from \"../services/dataService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar url = \"http://api.marketstack.com/v1/eod?access_key=5dd6fd84e5ba4e974843da4e6e23db23&symbols=AAP&date_from=2020-07-10&date_to=2021-07-02&limit=500\";\n\nvar request = require('request');\n\nvar categories = ['Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec', 'Jan`21', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];\nvar history_date = new Date();\n\nfunction convertHistoryDate(date) {\n  var value = date;\n  var newDates = {\n    date: value.slice(0, 10),\n    month: value.slice(5, 7),\n    day: value.slice(8, 10),\n    year: value.slice(0, 4)\n  };\n  return newDates;\n}\n\nvar defaultTooltipRender = function defaultTooltipRender(_ref) {\n  var data = _ref.data;\n  return \"Default Content \".concat(data.value);\n};\n\nvar nestedTooltipRender = function nestedTooltipRender(_ref2) {\n  var data = _ref2.data;\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: /*#__PURE__*/_jsxDEV(\"b\", {\n      children: [\"Series 1 value: \", data.value]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 50\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 44\n  }, _this);\n};\n\nexport default function PerformancePanel() {\n  _s();\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      history = _React$useState2[0],\n      setHistory = _React$useState2[1];\n\n  React.useEffect(function () {\n    request(url, {\n      json: true\n    }, function (err, res, body) {\n      if (err) {\n        return console.log(err);\n      }\n\n      return getHistory(body.data).then(function (results) {\n        setHistory(results);\n      });\n    });\n  }, []);\n\n  if (history) {\n    var history_data = history.map(function (data) {\n      return {\n        data: data.open,\n        date: convertHistoryDate(data.date)\n      };\n    });\n    var dates = history_data.map(function (data) {\n      return new Date(data.date.date);\n    });\n    var data = history_data.map(function (value) {\n      return value.data;\n    });\n    console.log(data);\n    return /*#__PURE__*/_jsxDEV(Chart, {\n      children: [/*#__PURE__*/_jsxDEV(ChartTooltip, {\n        render: defaultTooltipRender\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ChartTitle, {\n        text: \"Stock Price 1 Year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ChartTitle, {\n        text: \"Line Chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ChartValueAxis, {\n        children: /*#__PURE__*/_jsxDEV(ChartValueAxisItem, {\n          title: {\n            text: \"Stock Price\"\n          },\n          min: 100,\n          max: 250\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ChartCategoryAxis, {\n        children: /*#__PURE__*/_jsxDEV(ChartCategoryAxisItem, {\n          title: {\n            text: \"Month\"\n          },\n          maxDivisions: 12,\n          categories: dates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ChartSeries, {\n        children: /*#__PURE__*/_jsxDEV(ChartSeriesItem, {\n          type: \"line\",\n          data: data,\n          markers: {\n            visible: false\n          },\n          style: 'normal',\n          children: /*#__PURE__*/_jsxDEV(ChartSeriesItemTooltip, {\n            render: nestedTooltipRender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Performance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s(PerformancePanel, \"m2zlKD6z2d5JHwcHk/9BlD37tsE=\");\n\n_c = PerformancePanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"PerformancePanel\");","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/client/src/panels/PerformancePanel.tsx"],"names":["React","Chart","ChartSeries","ChartSeriesItem","ChartCategoryAxis","ChartCategoryAxisItem","ChartValueAxisItem","ChartValueAxis","ChartTitle","ChartTooltip","ChartSeriesItemTooltip","getHistory","url","request","require","categories","history_date","Date","convertHistoryDate","date","value","newDates","slice","month","day","year","defaultTooltipRender","data","nestedTooltipRender","PerformancePanel","useState","history","setHistory","useEffect","json","err","res","body","console","log","then","results","history_data","map","open","dates","text","visible"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Chart,\n  ChartSeries,\n  ChartSeriesItem,\n  ChartCategoryAxis,\n  ChartCategoryAxisItem,\n  ChartValueAxisItem,\n  ChartValueAxis,\n  ChartTitle,\n  ChartSeriesLabels,\n  ChartTooltip,\n  ChartLegend,\n  ChartSeriesItemTooltip,\n} from \"@progress/kendo-react-charts\";\nimport \"hammerjs\";\nimport { getHistory } from \"../services/dataService\";\nimport { History } from \"../data/models\";\nconst url =\"http://api.marketstack.com/v1/eod?access_key=5dd6fd84e5ba4e974843da4e6e23db23&symbols=AAP&date_from=2020-07-10&date_to=2021-07-02&limit=500\";\nconst request = require('request');\nconst categories=['Jun','Jul','Aug','Sept','Oct','Nov','Dec','Jan`21','Feb','Mar','Apr','May','Jun','Jul']\nconst history_date = new Date();\n   \nfunction convertHistoryDate(date:string){\n  var value = date \n    var newDates ={\n      date:value.slice(0,10),\n      month: value.slice(5,7),\n      day: value.slice(8,10),\n      year: value.slice(0,4)\n    }\n   \n  return newDates;\n}\nconst defaultTooltipRender = ({ data }) => (`Default Content ${data.value}`);\nconst nestedTooltipRender = ({ data }) => (<span><b>Series 1 value: {data.value}</b></span>);\nexport default function PerformancePanel() {\n  const [history, setHistory] = React.useState<History[]>();\n  React.useEffect(() => {\n    request(url, { json: true }, (err: any, res: any, body: any) => {\n      if (err) { return console.log(err); }\n      return getHistory(body.data).then((results: History[]) => {\n        setHistory(results);\n      });\n      \n    })\n        \n    \n  }, []);\nif(history){\n  \n  var history_data = history.map(data=>({data:data.open,date:convertHistoryDate(data.date)}))\n  var dates = history_data.map(data => new Date(data.date.date));\n  var data = history_data.map(value =>value.data)\n  console.log(data) \n\n\n\n  return (\n    \n          <Chart>\n            <ChartTooltip render={defaultTooltipRender}/>\n            <ChartTitle text=\"Stock Price 1 Year\" />\n            <ChartTitle text=\"Line Chart\" />\n            {/* <ChartLegend position=\"top\" orientation=\"horizontal\" display=\"false\" /> */}\n            <ChartValueAxis>\n              <ChartValueAxisItem\n                title={{\n                  text: \"Stock Price\",\n                }}\n                min={100}\n                max={250}\n              />\n            </ChartValueAxis>\n            <ChartCategoryAxis>\n              <ChartCategoryAxisItem \n                title={{\n                  text: \"Month\",\n                }}\n                maxDivisions={12}\n                categories={dates}/>\n            </ChartCategoryAxis>\n            <ChartSeries>\n              <ChartSeriesItem type=\"line\" data={data} markers={{ visible: false }} style={'normal'}>\n              <ChartSeriesItemTooltip render={nestedTooltipRender} />\n              </ChartSeriesItem>\n              {/* <ChartSeriesLabels content={'june'} /> */}\n            </ChartSeries>\n          </Chart>\n        \n  );\n  }\n  else{ \n    return <h2>Performance</h2>\n  }\n}"]},"metadata":{},"sourceType":"module"}