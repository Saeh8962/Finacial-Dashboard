{"ast":null,"code":"var _classCallCheck = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _possibleConstructorReturn = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _assertThisInitialized = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _wrapNativeSuper = require(\"/Users/samehrlich/Desktop/final-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar os = require(\"os\");\n\nvar combineStack = function combineStack(stack) {\n  for (var _len = arguments.length, errors = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    errors[_key - 1] = arguments[_key];\n  }\n\n  return errors.reduce(function (stack, trace) {\n    if (!trace) return stack;\n    if (trace.indexOf(\"\\n\") >= 0) return stack + os.EOL + trace.substr(trace.indexOf(\"\\n\") + 1);else return stack + os.EOL + trace;\n  }, stack);\n};\n\nvar StreamError = /*#__PURE__*/function (_Error) {\n  \"use strict\";\n\n  _inherits(StreamError, _Error);\n\n  var _super = _createSuper(StreamError);\n\n  function StreamError(cause, stream) {\n    var _this;\n\n    var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"GENERAL\";\n    var chunk = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, StreamError);\n\n    code = cause.code || code;\n    stream = cause.stream || stream;\n    chunk = cause.chunk || chunk;\n    _this = _super.call(this, cause.message);\n    if (cause instanceof StreamError) return _possibleConstructorReturn(_this, cause);\n    _this.chunk = chunk;\n    _this.stream = stream;\n    _this.code = \"ERR_SCRAMJET_\" + code;\n    _this.cause = cause;\n    var stack = _this.stack;\n    Object.defineProperty(_assertThisInitialized(_this), \"stack\", {\n      get: function get() {\n        return combineStack(stack, \"  caused by:\", cause.stack, \"  --- raised in \".concat(stream.name, \" constructed ---\"), stream.constructed);\n      }\n    });\n    /** Needed to fix babel errors. */\n\n    _this.constructor = StreamError;\n    _this.__proto__ = StreamError.prototype;\n    return _this;\n  }\n\n  return StreamError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * Stream errors class\n *\n * @module scramjet/errors\n * @prop {Class<StreamError>} StreamError\n * @prop {Function} combineStack\n */\n\n\nmodule.exports = {\n  StreamError: StreamError,\n  combineStack: combineStack\n};","map":{"version":3,"sources":["/Users/samehrlich/Desktop/final-app/client/node_modules/scramjet-core/lib/util/stream-errors.js"],"names":["os","require","combineStack","stack","errors","reduce","trace","indexOf","EOL","substr","StreamError","cause","stream","code","chunk","message","Object","defineProperty","get","name","constructed","constructor","__proto__","prototype","Error","module","exports"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAsB;AAAA,oCAAXC,MAAW;AAAXA,IAAAA,MAAW;AAAA;;AACvC,SAAOA,MAAM,CAACC,MAAP,CACH,UAACF,KAAD,EAAQG,KAAR,EAAkB;AACd,QAAI,CAACA,KAAL,EAAY,OAAOH,KAAP;AACZ,QAAIG,KAAK,CAACC,OAAN,CAAc,IAAd,KAAuB,CAA3B,EACI,OAAOJ,KAAK,GAAGH,EAAE,CAACQ,GAAX,GAAiBF,KAAK,CAACG,MAAN,CAAaH,KAAK,CAACC,OAAN,CAAc,IAAd,IAAsB,CAAnC,CAAxB,CADJ,KAII,OAAOJ,KAAK,GAAGH,EAAE,CAACQ,GAAX,GAAiBF,KAAxB;AACP,GARE,EASHH,KATG,CAAP;AAWH,CAZD;;IAcMO,W;;;;;;;AAEF,uBAAYC,KAAZ,EAAmBC,MAAnB,EAA2D;AAAA;;AAAA,QAAhCC,IAAgC,uEAAzB,SAAyB;AAAA,QAAdC,KAAc,uEAAN,IAAM;;AAAA;;AACvDD,IAAAA,IAAI,GAAGF,KAAK,CAACE,IAAN,IAAcA,IAArB;AACAD,IAAAA,MAAM,GAAGD,KAAK,CAACC,MAAN,IAAgBA,MAAzB;AACAE,IAAAA,KAAK,GAAGH,KAAK,CAACG,KAAN,IAAeA,KAAvB;AAEA,8BAAMH,KAAK,CAACI,OAAZ;AAEA,QAAIJ,KAAK,YAAYD,WAArB,EACI,yCAAOC,KAAP;AAEJ,UAAKG,KAAL,GAAaA,KAAb;AACA,UAAKF,MAAL,GAAcA,MAAd;AACA,UAAKC,IAAL,GAAY,kBAAkBA,IAA9B;AACA,UAAKF,KAAL,GAAaA,KAAb;AAEA,QAAMR,KAAK,GAAG,MAAKA,KAAnB;AACAa,IAAAA,MAAM,CAACC,cAAP,gCAA4B,OAA5B,EAAqC;AACjCC,MAAAA,GAAG,EAAE,eAAY;AACb,eAAOhB,YAAY,CACfC,KADe,EAEf,cAFe,EAGfQ,KAAK,CAACR,KAHS,4BAIIS,MAAM,CAACO,IAJX,uBAKfP,MAAM,CAACQ,WALQ,CAAnB;AAOH;AATgC,KAArC;AAYA;;AACA,UAAKC,WAAL,GAAmBX,WAAnB;AACA,UAAKY,SAAL,GAAiBZ,WAAW,CAACa,SAA7B;AA9BuD;AA+B1D;;;iCAjCqBC,K;AAqC1B;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB;AAAChB,EAAAA,WAAW,EAAXA,WAAD;AAAcR,EAAAA,YAAY,EAAZA;AAAd,CAAjB","sourcesContent":["const os = require(\"os\");\nconst combineStack = (stack, ...errors) => {\n    return errors.reduce(\n        (stack, trace) => {\n            if (!trace) return stack;\n            if (trace.indexOf(\"\\n\") >= 0)\n                return stack + os.EOL + trace.substr(trace.indexOf(\"\\n\") + 1);\n\n            else\n                return stack + os.EOL + trace;\n        },\n        stack\n    );\n};\n\nclass StreamError extends Error {\n\n    constructor(cause, stream, code = \"GENERAL\", chunk = null) {\n        code = cause.code || code;\n        stream = cause.stream || stream;\n        chunk = cause.chunk || chunk;\n\n        super(cause.message);\n\n        if (cause instanceof StreamError)\n            return cause;\n\n        this.chunk = chunk;\n        this.stream = stream;\n        this.code = \"ERR_SCRAMJET_\" + code;\n        this.cause = cause;\n\n        const stack = this.stack;\n        Object.defineProperty(this, \"stack\", {\n            get: function () {\n                return combineStack(\n                    stack,\n                    \"  caused by:\",\n                    cause.stack,\n                    `  --- raised in ${stream.name} constructed ---`,\n                    stream.constructed\n                );\n            }\n        });\n\n        /** Needed to fix babel errors. */\n        this.constructor = StreamError;\n        this.__proto__ = StreamError.prototype;\n    }\n\n}\n\n/**\n * Stream errors class\n *\n * @module scramjet/errors\n * @prop {Class<StreamError>} StreamError\n * @prop {Function} combineStack\n */\nmodule.exports = {StreamError, combineStack};\n"]},"metadata":{},"sourceType":"script"}